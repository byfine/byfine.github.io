---
layout: post
title:  网络：IP地址
description: "网络IP地址相关概念"
modified: 2015-11-04
tags: [Network]
---

## IP地址：
一个IP地址主要由两部分组成，一部分用于标识该地址所属的网络号，另一部分指明网络内的主机号。
IP编址方案有两种，一种是采用IPv4编址方案，即一个32位的二进制数，我们常见的形式是分为4个字节分别用十进制表示，中间用圆点分开，这种方法叫做点分十进制表示法。

## 分配原则：

对于IPv4，网络地址分配有以下原则：

1. 网络地址必须唯一。
2. 网络标识不能以数字127开头，以数字127开头的地址用于内部回送函数。
3. 网络标识的第一个字节不能为255，第一个字节为255表示广播地址。
4. 网络标识的第一个字节不能为0，第一个字节为0表示该地址是本地主机

对于IPv4，主机地址分配有以下原则：

1. 主机标识在同一网络内必须是唯一的。
2. 主机标识的各字节不能全为255，全为255表示该机地址是广播地址。
3. 主机标识的各字节不能全为0，全为0表示“只有这个网络"，而这个网络上没有任何主机。

## 地址分类

使用IP地址的点分十进制表示法，因特网地址空间又划分为5类，具体如下：<br>
A类：0.x.x.x  ~  127.x.x.x  （32位二进制最高位为0）<br>
B类：128.x.x.x  ~  191.x.x.x  （32位二进制最高2位为10）<br>
C类：192.x.x.x  ~  223.x.x.x  （32位二进制最高3位为110）<br>
D类：224.x.x.x  ~  239.x.x.x  （32位二进制最高3位为1110）<br>
E类： 240.x.x.x  ~  255.x.x.x  （32位二进制最高3位为11110）

- A类IP地址，由1字节的网络地址和3字节主机地址组成，网络地址的最高位必须是“0"，可用网络标识长度为7位。后3个字节为主机标识。网内主机数达1600多万台。
- B类IP地址，由2字节的网络地址和2字节主机地址组成，网络地址的最高位必须是“10"，可用网络标识长度为14位。后2个字节为主机标识。每个网络所能容纳的计算机数为6万多台。
- C类IP地址，由3字节的网络地址和1字节主机地址组成，网络地址的最高位必须是“110”，可用网络标识长度为21位。最后1个字节为主机标识。适用于小规模的局域网，每个网内最多只能包含254台计算机。
- D类地址属于一种特殊类型的IP地址，TCP/IP规定，凡IP地址中的第一个字节以“1110”开始的地址都叫多点广播地址。因此，任何第一个字节大于223小于240的IP地址都是多点广播地址。
- E类IP地址则以"11110”开头，作为特殊用途使用。

## 子网掩码：
在这些网络分类中，每类网络又可以与后面的一个或多个字节组合，进一步分成不同的网络，称为**子网**。每个子网必须用一个公共的网址把它与该类网络中的其他子网分开。

为了识别IP地址的网络部分，又为特定的子网定义了**子网掩码**。
子网掩码不能单独存在，它必须结合IP地址一起使用。子网掩码用于屏蔽IP地址的一部分以区别网络标识和主机标识，它是判断任意两台计算机的IP地址是否属于同一子网的依据，并说明该IP地址是在局域网上，还是在远程网上。

把所有的网络位（二进制）用1来标识，主机位用0来标识，就得到了子网掩码。

IP地址与子网掩码的关系可以简单地理解为：两台计算机各自的地址与子网掩码进行一进制“与"运算后，如果得出的结果是相同的，则说明这两台计算机处于同一个子网，否则就是处于不同的子网上。

假设子网掩码为255.255.255.0，转化为二进制为11111111.11111111.11111111.000000，则IP地址和子网掩码进行二进制“与”运算后，前3个字节构成网络标示（子网号），第4个字节为0。

例如，对于IP地址192.168.0.X，可以将子网掩码设置为255.255.255.0，则该子网内所有的IP地址为：
192.168.0.0、192.168.0.1、192.168.0.2  …… 192.168.0.254、192.168.0.255

其中，192.168.0.0和192.168.0.255有特殊的含义（192.168.0.0表示本机地址（回环地址），192.168.0.255表示广播地址），所以该子网（192.168.0）内实际可用的IP地址为254个（192.168.0.1到192.168.0.254）。